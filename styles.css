/* styles.css
   Elegant dark background, golden box, animations, responsive layout.
*/

/* CSS variables for easy theming */
:root{
  --dark-1: #04060a;
  --dark-2: #061223; /* deep navy accent */
  --gold-1: #ffd87d;
  --gold-2: #d4aa00;
  --gold-3: #c59b00;
  --glass: rgba(255,255,255,0.06);
  --transition: 420ms cubic-bezier(.22,.9,.22,1);
  --ring-size: clamp(220px, 36vw, 360px);
  --box-size: clamp(220px, 26vw, 320px);
  --prefersReduced: 1;
}

/* Basic reset */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;color:#fff;}

/* Stage and background */
.stage{
  min-height:100vh;
  background: radial-gradient(1200px 800px at 10% 20%, rgba(6,18,35,0.7) 0%, rgba(3,6,10,0.6) 20%, rgba(2,4,7,1) 50%), linear-gradient(180deg, var(--dark-2) 0%, var(--dark-1) 100%);
  position:relative;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* subtle sparkles using pseudo elements and keyframes */
.bg-layer{
  position:absolute;
  inset:0;
  pointer-events:none;
  background-image:
    radial-gradient(circle at 10% 15%, rgba(255,235,180,0.04) 0 2px, transparent 3px),
    radial-gradient(circle at 85% 30%, rgba(255,235,180,0.03) 0 2px, transparent 3px),
    radial-gradient(circle at 40% 80%, rgba(255,235,180,0.02) 0 2px, transparent 3px);
  opacity:1;
  transform-origin:center;
  animation: bgGlow 8s ease-in-out infinite;
  mix-blend-mode: screen;
}
@keyframes bgGlow {
  0% { transform: scale(1); opacity:0.9; filter:blur(0px); }
  50% { transform: scale(1.02); opacity:1; filter:blur(1px); }
  100% { transform: scale(1); opacity:0.9; filter:blur(0px); }
}

/* center content */
.center{
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  width:100%;
  height:100vh;
  pointer-events:none;
}

/* Ring surrounding box (pulses) */
.ring{
  position:absolute;
  width:var(--ring-size);
  height:var(--ring-size);
  border-radius:50%;
  pointer-events:none;
  background: radial-gradient(circle, rgba(255,210,120,0.09) 0%, rgba(255,210,120,0.03) 30%, transparent 60%);
  box-shadow: 0 0 60px rgba(213,172,30,0.12), inset 0 0 34px rgba(255,240,200,0.02);
  transform:scale(0.92);
  transition: transform var(--transition), opacity var(--transition);
  opacity:0;
  z-index:1;
}

/* Gold box */
.gold-box{
  --g1: linear-gradient(145deg, rgba(255,237,168,1) 0%, rgba(210,165,38,1) 50%, rgba(183,128,12,1) 100%);
  pointer-events:auto;
  appearance:none;
  border: none;
  background: var(--g1);
  width:var(--box-size);
  height:calc(var(--box-size) * 0.55);
  border-radius:14px;
  padding:12px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  box-shadow:
    0 12px 30px rgba(3,4,6,0.6),
    inset 0 6px 18px rgba(255,255,255,0.15),
    inset 0 -8px 18px rgba(0,0,0,0.12);
  transform: translateZ(0) scale(1);
  transition: transform var(--transition), box-shadow var(--transition), filter var(--transition);
  cursor:pointer;
  z-index:3;
}

/* Inner text styling */
.gold-box .box-inner{
  display:block;
  text-align:center;
  pointer-events:none;
}
.gold-box .prompt{
  font-family: "Playfair Display", serif;
  font-weight:700;
  letter-spacing:0.6px;
  color: rgba(20,8,0,0.92);
  background: linear-gradient(180deg, rgba(40,14,0,0.9), rgba(0,0,0,0.12));
  -webkit-background-clip:text;
  background-clip:text;
  -webkit-text-fill-color:transparent;
  font-size: clamp(14px, 1.6vw, 20px);
}

/* Shiny glare using pseudo elements */
.gold-box::before,
.gold-box::after{
  content:"";
  position:absolute;
  left:0; right:0;
  top:0; bottom:0;
  border-radius:14px;
  pointer-events:none;
  mix-blend-mode:screen;
}
.gold-box::before{
  background: linear-gradient(120deg, rgba(255,255,255,0.55) 0%, rgba(255,255,255,0.08) 20%, transparent 45%);
  transform: translateY(-55%) rotate(-14deg);
  filter: blur(6px);
  opacity:0.9;
  transition: transform 900ms ease, opacity var(--transition);
}
.gold-box::after{
  background: radial-gradient(120% 60% at 30% 20%, rgba(255,245,200,0.55), rgba(255,235,160,0.12), transparent 40%);
  opacity:0.9;
  filter: blur(18px);
  transition: opacity var(--transition), transform var(--transition);
}

/* soft pulse on box */
@keyframes boxPulse {
  0% { transform: scale(1) translateZ(0); }
  50% { transform: scale(1.01) translateZ(0); filter: brightness(1.03); }
  100% { transform: scale(1) translateZ(0); }
}
.gold-box.pulsing{ animation: boxPulse 3.2s ease-in-out infinite; }

/* pop-out / opened states */
.gold-box.popped{
  transform: perspective(800px) translateZ(16px) scale(1.06);
  box-shadow:
    0 28px 60px rgba(2,3,6,0.8),
    inset 0 12px 28px rgba(255,255,255,0.12),
    inset 0 -10px 30px rgba(0,0,0,0.18);
}
.gold-box.opened{
  transform: perspective(850px) translateZ(20px) rotateX(2deg) scale(1.08);
}

/* reveal text above box */
.reveal-text{
  position:absolute;
  bottom: calc(50% + var(--box-size) * 0.34);
  left:50%;
  transform: translate(-50%, 8px);
  text-align:center;
  z-index:4;
  pointer-events:none;
  opacity:0;
  transition: opacity 420ms ease, transform 420ms ease;
  width: min(86vw, 760px);
}
.reveal-text.show{
  opacity:1;
  transform: translate(-50%, -8px);
}
.reveal-text .big-line{
  background: linear-gradient(90deg, rgba(255,240,160,0.96), rgba(210,160,30,0.9));
  -webkit-background-clip:text;
  background-clip:text;
  -webkit-text-fill-color:transparent;
  filter: drop-shadow(0 10px 22px rgba(0,0,0,0.5));
}
.reveal-text .never{
  display:block;
  font-family: "Playfair Display", serif;
  font-size: clamp(28px, 4.8vw, 48px);
  font-weight:700;
  letter-spacing:1.2px;
  text-transform:uppercase;
  text-shadow: 0 2px 14px rgba(210,150,20,0.25);
}
.reveal-text .sub{
  display:block;
  font-family: Inter, sans-serif;
  font-size: clamp(12px, 2.1vw, 16px);
  opacity:0.95;
  margin-top:6px;
}

/* blinking shining animation (box) */
@keyframes boxBlink {
  0% { box-shadow: 0 12px 30px rgba(3,4,6,0.6); filter: brightness(1); }
  50% { box-shadow: 0 18px 50px rgba(213,172,30,0.25); filter: brightness(1.16); }
  100%{ box-shadow: 0 12px 30px rgba(3,4,6,0.6); filter: brightness(1); }
}
.gold-box.blinking{
  animation: boxBlink 1.4s ease-in-out infinite;
}

/* ring animate */
@keyframes ringPulse {
  0% { transform: scale(0.96); opacity:0.15; filter: blur(0px); }
  50%{ transform: scale(1.02); opacity:0.42; filter: blur(1px); }
  100%{ transform: scale(0.96); opacity:0.15; filter: blur(0px); }
}
.ring.active{
  opacity:1;
  animation: ringPulse 2.4s ease-in-out infinite;
}

/* mascot visible and swaying */
.mascot{
  position:absolute;
  bottom: calc(50% - var(--box-size) * 0.35);
  left:50%;
  transform: translate(-50%, 10px) scale(0.9);
  z-index:5;
  opacity:0;
  transition: opacity 420ms ease, transform 420ms ease;
  pointer-events:none;
}
.mascot.show{
  opacity:1;
  transform: translate(-50%, -6px) scale(1);
}
.mascot-svg{ width: clamp(80px, 9vw, 120px); height:auto; display:block; }
.mascot-group { transform-origin: 100px 100px; animation: sway 3.2s ease-in-out infinite; }
@keyframes sway {
  0% { transform: translateY(0) rotate(-2deg); }
  50% { transform: translateY(-3px) rotate(2deg); }
  100% { transform: translateY(0) rotate(-2deg); }
}

/* robot visible and animating arms (typing) */
.robot{
  position:absolute;
  bottom: calc(50% - var(--box-size) * 0.4);
  left:50%;
  transform: translate(-50%, 10px) scale(0.9);
  z-index:5;
  opacity:0;
  transition: opacity 420ms ease, transform 420ms ease;
  pointer-events:none;
}
.robot.show{
  opacity:1;
  transform: translate(-50%, -6px) scale(1);
}
.robot-svg{ width: clamp(160px, 20vw, 260px); height:auto; display:block; }

/* arms typing animations */
.robot .left-fore { transform-origin: right center; animation: leftType 1.2s linear infinite; }
.robot .right-fore { transform-origin: left center; animation: rightType 1.2s linear infinite; }
@keyframes leftType {
  0% { transform: rotate(-6deg) translateY(0); }
  50%{ transform: rotate(8deg) translateY(-4px); }
  100%{ transform: rotate(-6deg) translateY(0); }
}
@keyframes rightType {
  0% { transform: rotate(6deg) translateY(0); }
  50%{ transform: rotate(-8deg) translateY(-4px); }
  100%{ transform: rotate(6deg) translateY(0); }
}

/* Controls area */
.controls{
  position:fixed;
  right:20px;
  bottom:20px;
  z-index:60;
  display:flex;
  gap:12px;
}
.controls button{
  border:0;
  background: rgba(255,255,255,0.04);
  color:#fff;
  padding:8px 12px;
  border-radius:10px;
  font-size:14px;
  cursor:pointer;
  backdrop-filter: blur(4px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.5);
}

/* small screens adjustments */
@media (max-width:520px){
  .reveal-text .never{ font-size: clamp(20px, 6.4vw, 28px); }
  .reveal-text .sub{ font-size: 12px; }
  .controls{ right:12px; bottom:12px; gap:8px; }
}

/* Reduced motion / fallback */
@media (prefers-reduced-motion: reduce) {
  :root { --prefersReduced: 1; }
  .bg-layer, .gold-box.pulsing, .ring.active, .mascot-group, .robot .left-fore, .robot .right-fore { animation: none !important; }
  .gold-box, .ring, .reveal-text, .mascot, .robot { transition: none !important; }
}
